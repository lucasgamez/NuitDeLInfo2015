<html>

	<head>
		<title>pixi.js example 1</title>
		<style>
			body {
				margin: 0;
				padding: 0;
				background-color: #123456;
			}
		</style>
		<script src="phaser.js"></script>
	</head>

	<body>
	<div id="test" align="center">

		<script>
			var game = new Phaser.Game(800, 600, Phaser.AUTO, '', { preload: preload, create: create, update: update });
			
			function preload() {
				game.load.image('player', 'ship.png');

			}

			var cursors;
			var currentSpeed = 0;
			

			function create() {

			    //  This will run in Canvas mode, so let's gain a little speed and display
				game.renderer.clearBeforeRender = false;
    			game.renderer.roundPixels = true;

    			//  We need arcade physics
    			game.physics.startSystem(Phaser.Physics.ARCADE);
				
				//  Our player ship
				sprite = game.add.sprite(300, 300, 'player');
				sprite.anchor.set(0.5);


				//  and its physics settings
				game.physics.enable(sprite, Phaser.Physics.ARCADE);

				sprite.body.drag.set(100);
				sprite.body.maxVelocity.set(200);

				//  Game input
				cursors = game.input.keyboard.createCursorKeys();
				game.input.keyboard.addKeyCapture([ Phaser.Keyboard.SPACEBAR ]);

				cursors = game.input.keyboard.createCursorKeys();
			}

			function update() {


			if (cursors.left.isDown)
				{
					sprite.angle -= 4;
				}
				else if (cursors.right.isDown)
				{
					sprite.angle += 4;
				}

				if (cursors.up.isDown)
				{
					//  The speed we'll travel at
					currentSpeed = 300;
				}
				else
				{
					if (currentSpeed > 0)
					{
						currentSpeed -= 4;
					}
				}

				if (currentSpeed > 0)
				{
					game.physics.arcade.velocityFromRotation(sprite.rotation, currentSpeed, sprite.body.velocity);
				}
				
				
			}

			function render(){
				
			}
		</script>
</div>


	</body>


</html>
